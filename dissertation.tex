%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
%               Template                %
%          kindly provided by           %
%             Daniel Regado             %                 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 

\documentclass[12pt, a4paper]{report} % Page and font size
\setlength{\parindent}{0.5cm}

% Packages
\usepackage[margin=1in]{geometry}
\usepackage{graphicx}
\usepackage{fontspec}
\usepackage{multirow}
\usepackage{afterpage}
\usepackage{layout}
\usepackage{xcolor}
\usepackage{color}
\usepackage{caption}
\usepackage{fix-cm}
\usepackage{float}
\usepackage{makecell}
\usepackage{tabularx}
\usepackage{titlesec}
\usepackage{pdfpages}
\usepackage{longtable}
\usepackage[english]{babel}
\usepackage{setspace}
\usepackage[square, numbers]{natbib}
\bibliographystyle{abbrvnat}
\usepackage{hyperref}
\usepackage{bookmark}
\usepackage[acronym, shortcuts, style=index]{glossaries}

\makeglossaries
\usepackage{subcaption}
\usepackage[title]{appendix}
% \usepackage{multico}

\usepackage{beton}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amssymb}
% \usepackage{algorithm}
% \usepackage{algpseudocode}
\usepackage{fancyhdr}
\usepackage{comment}
\usepackage{cleveref}

% \usepackage{minted}
\usepackage[inline]{enumitem}
\usepackage[normalem]{ulem}
\usepackage{soul}

\usepackage{listings}

\usepackage{ebproof}
\usepackage{tikz-cd}
% \usetikzlibrary{arrows.meta} 

\input{macros}

% Definitions, Lemmas and Theorems
\newtheorem{theorem}{Theorem}
\crefname{theorem}{Theorem}{Theorems}
\newtheorem{lemma}{Lemma}
\crefname{lemma}{Lemma}{Lemmas}
\newtheorem{claim}{Claim}
\crefname{claim}{Claim}{Claims}
\newtheorem{proposition}{Proposition}
\crefname{proposition}{Proposition}{Propositions}

\newtheorem{definition}{Definition}
\crefname{definition}{Definition}{Definitions}

\newtheorem{corollary}{Corollary}
\crefname{corollary}{Corollary}{Corollaries}

\newtheorem*{notation}{Notation}
\newtheorem*{remark}{Remark}
\crefname{remark}{Remark}{Remarks}
\newtheorem*{convention}{Convention}

% Global counters (don't reset on chapter)
\counterwithout{figure}{chapter}
\counterwithout{table}{chapter}
\counterwithout{equation}{chapter}

% Colors
\definecolor{darkBlue}{cmyk}{1.0, 1.0, 0.0, 0.1}
\definecolor{darkGreen}{cmyk}{1.0, 0.0, 1.0, 0.4}
\definecolor{navyBlue}{cmyk}{1.0, 1.0, 0.0, 0.1}

\hypersetup{
  bookmarksnumbered=true,
  plainpages=false,
  pdffitwindow=true,
  % pdfauthor={Daniel Regado},
  % pdfcreator={Daniel Regado},
  % pdfproducer={Daniel Regado},
  colorlinks=true,
  linkcolor=darkBlue,
  citecolor=darkGreen,
  filecolor=magenta,
  urlcolor=navyBlue
}

% UMinho formatting
\onehalfspacing % 1.5 spacing
\geometry{ % Page borders
  a4paper,
  right=25mm,
  rmargin=0mm,
  outer=25mm,
  left=0mm,
  lmargin=0mm,
  inner=25mm,
  top=0mm,
  tmargin=25mm,
  bottom=0mm,
  bmargin=25mm
}
\setmainfont[Ligatures=TeX, AutoFakeSlant=0.20, BoldFont=NewsGotTBold.ttf]{NewsGotT.ttf} % NewsGotT font

% Titles formatting
\titleformat{\chapter}[display]{\normalfont\bfseries\color{darkgray}}{\chaptertitlename\ \thechapter}{0pt}{\Large}
\titleformat*{\section}{\color{darkgray}\Large\bfseries}
\titleformat*{\subsection}{\color{darkgray}\Large\bfseries\color{darkgray}}
\titleformat*{\subsubsection}{\color{darkgray}\Large\bfseries}
\setcounter{secnumdepth}{3}
\renewcommand{\thesubsubsection}{\alph{subsubsection})}
\titlespacing{\chapter}{0pt}{-40pt}{20pt}

% Settings for headers and footers
\pagestyle{fancy}
\fancyhf{}
\fancyfoot[C]{\thepage}
\setlength{\headheight}{15pt}
\renewcommand{\headrulewidth}{0.0pt}

% Header for Abstract and Resumo
\fancypagestyle{title_on_header}{
  \fancyhead[C]{\textit{On the mechanisation of the multiary lambda calculus and subsystems}}
  \fancyfoot[C]{\thepage}
}

% lstlisting coq style (inspired from a file of Assia Mahboubi)
\newcommand{\lst}{\lstinline}
\lstdefinelanguage{Coq}%
  {morekeywords={Variable,Inductive,CoInductive,Fixpoint,CoFixpoint,%
      Definition,Lemma,Theorem,Axiom,Local,Save,Grammar,Syntax,intro,%
      trivial,Qed,intros,Symmetry,Simpl,Rewrite,apply,elim,assumption,%
      left,Cut,Case,auto,unfold,exact,right,Hypothesis,Pattern,destruct,%
      constructor,Defined,Fix,Record,Proof,induction,Hints,exists,let,in,%
      Parameter,split,Red,reflexivity,transitivity,if,then,else,Opaque,%
      Transparent,inversion,Absurd,Generalize,Mutual,Cases,of,end,Analyze,%
      AutoRewrite,Functional,Scheme,params,Refine,using,discriminate,Try,%
      Require,Load,Import,Scope,Set,Open,Section,End,match,with,Ltac,%
      Instance,%
      bind,as,%
      % , exists, forall
	},%
   sensitive, %
   morecomment=[n]{(*}{*)},%
   morestring=[d]",%
   literate=
   {=>}{{$\Rightarrow$}}1
   {>->}{{$\rightarrowtail$}}2
   {<->}{{$\leftrightarrow$}}1
   {->}{{$\rightarrow$}}1
   {\/\\}{{$\wedge$}}1
   {|-}{{$\vdash$}}1
   {\\\/}{{$\vee$}}1
   {~}{{$\sim$}}1
   {exists}{{$\exists\!\!$}}1
   {forall}{{$\forall\!\!$}}1
   {beta1}{{$\beta_1$}}1
   {beta2}{{$\beta_2$}}1
   {sigma}{{$\sigma$}}1
   {theta}{{$\theta$}}1
   {tau}{{$\tau$}}1
   {rho}{{$\rho$}}1
   {xi}{{$\xi$}}1
   {Axiom}{Axiom}3 % patch
   {exi}{exi}3 % insufficient patch to print reflexivity correctly
   {zeta}{{$\zeta$}}1
   {Gamma}{{$\Gamma$}}1
   {Delta}{{$\Delta$}}1
   {\\rhd}{{$\rhd$}}1
   %{>>}{\scomp}1
   %{<>}{{$\neq$}}1 indeed... no.
  }[keywords,comments,strings]%

\lstset{
   basicstyle=\ttfamily,
   keywordstyle=\bfseries\color{blue}
  }
\lstset{language=Coq}
\lstset{columns=fullflexible, keepspaces}

% *******************************************************************

\begin{document}
\include{acronyms} % Import acronyms

% Title and Cover Page
% The files need to be changed and exported from Adobe Illustrator
% Adobe Illustrator files are in front/cover/illustrator
\begin{titlepage}
  % \includepdf[pages={1,2}, fitpaper]{front/cover/title.pdf}
  \includepdf{front/cover/cover.pdf}
\end{titlepage}

% Front matter
\pagenumbering{roman}
\setcounter{page}{2} % Cover page is the first page, but not numbered
\include{front/copyright}\clearpage
\include{front/acknowledgments}\clearpage
\include{front/integrity}\clearpage
\input{front/resumo}\clearpage
\input{front/abstract}\clearpage
\input{front/quote}\clearpage
\setcounter{tocdepth}{1} % Only go down to section level on ToC
\tableofcontents\fancyhead[R]{\textit{Contents}}
% \listoffigures\fancyhead[R]{\textit{List of Figures}}
% \listoftables\fancyhead[R]{\textit{List of Tables}}
% \printglossaries\fancyhead[R]{\textit{Acronyms}}

% Header with section number and name
\fancyhead[R]{\rightmark}
\renewcommand{\sectionmark}[1]{\markright{\thesection\ \textit{#1}}}

% Thesis content
\pagenumbering{arabic} % Reset page counter
\input{chapters/01_introduction}

% Include your chapters here
\input{chapters/02_background}
\input{chapters/03_multiary}
\input{chapters/04_canonical}
\input{chapters/05_isomorphism}
% \input{chapters/06_discussion}

\input{chapters/10_conclusions}
% \input{chapters/appendix/appendix}
\fancyhead[R]{\textit{Bibliography}}\bibliography{dissertation}

\end{document}

%%% Local Variables:
%%% mode: LaTeX
%%% TeX-master: t
%%% End:

