%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
%               Template                %
%          kindly provided by           %
%             Daniel Regado             %                 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 

\documentclass[12pt, a4paper]{report} % Page and font size

% Packages
\usepackage[margin=1in]{geometry}
\usepackage{graphicx}
\usepackage{fontspec}
\usepackage{multirow}
\usepackage{afterpage}
\usepackage{layout}
\usepackage{xcolor}
\usepackage{color}
\usepackage{caption}
\usepackage{fix-cm}
\usepackage{float}
\usepackage{makecell}
\usepackage{tabularx}
\usepackage{titlesec}
\usepackage{pdfpages}
\usepackage{longtable}
\usepackage[english]{babel}
\usepackage{setspace}
\usepackage[square, numbers]{natbib}
\bibliographystyle{abbrvnat}
\usepackage{hyperref}
\usepackage{bookmark}
\usepackage[acronym, shortcuts, style=index]{glossaries}
\makeglossaries
\usepackage{subcaption}
\usepackage[title]{appendix}
% \usepackage{multico}

\usepackage{beton}

\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amssymb}
% \usepackage{algorithm}
% \usepackage{algpseudocode}
\usepackage{fancyhdr}
\usepackage{comment}

% \usepackage{minted}
\usepackage[inline]{enumitem}
\usepackage[normalem]{ulem}

\usepackage{listings}
\lstset{
  basicstyle=\ttfamily,
  frame=shadowbox,
}

\usepackage{ebproof}
\usepackage{tikz-cd}

\input{macros}

% Definitions, Lemmas and Theorems
\newtheorem{theorem}{Theorem}
\newtheorem{lemma}{Lemma}

\newtheorem*{definition}{Definition}
\newtheorem*{notation}{Notation}
\newtheorem*{remark}{Remark}
\newtheorem*{convention}{Convention}

% Global counters (don't reset on chapter)
\counterwithout{figure}{chapter}
\counterwithout{table}{chapter}
\counterwithout{equation}{chapter}

% Colors
\definecolor{darkBlue}{cmyk}{1.0, 1.0, 0.0, 0.1}
\definecolor{darkGreen}{cmyk}{1.0, 0.0, 1.0, 0.4}
\definecolor{navyBlue}{cmyk}{1.0, 1.0, 0.0, 0.1}

\hypersetup{
  bookmarksnumbered=true,
  plainpages=false,
  pdffitwindow=true,
  pdfauthor={Daniel Regado},
  pdfcreator={Daniel Regado},
  pdfproducer={Daniel Regado},
  colorlinks=true,
  linkcolor=darkBlue,
  citecolor=darkGreen,
  filecolor=magenta,
  urlcolor=navyBlue
}

% UMinho formatting
\onehalfspacing % 1.5 spacing
\geometry{ % Page borders
  a4paper,
  right=25mm,
  rmargin=0mm,
  outer=25mm,
  left=0mm,
  lmargin=0mm,
  inner=25mm,
  top=0mm,
  tmargin=25mm,
  bottom=0mm,
  bmargin=25mm
}
\setmainfont[Ligatures=TeX, AutoFakeSlant=0.20, BoldFont=NewsGotTBold.ttf]{NewsGotT.ttf} % NewsGotT font

% Titles formatting
\titleformat{\chapter}[display]{\normalfont\bfseries\color{darkgray}}{\chaptertitlename\ \thechapter}{0pt}{\Large}
\titleformat*{\section}{\color{darkgray}\Large\bfseries}
\titleformat*{\subsection}{\color{darkgray}\Large\bfseries\color{darkgray}}
\titleformat*{\subsubsection}{\color{darkgray}\Large\bfseries}
\setcounter{secnumdepth}{3}
\renewcommand{\thesubsubsection}{\alph{subsubsection})}
\titlespacing{\chapter}{0pt}{-40pt}{20pt}

% Settings for headers and footers
\pagestyle{fancy}
\fancyhf{}
\fancyfoot[C]{\thepage}
\setlength{\headheight}{15pt}
\renewcommand{\headrulewidth}{0.0pt}

% Header for Abstract and Resumo
\fancypagestyle{title_on_header}{
  \fancyhead[C]{\textit{Your Title Goes Here}}
  \fancyfoot[C]{\thepage}
}

\newcommand\code[1]{{\tt\small #1}}
\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{ltblue}{rgb}{0,0.4,0.4}
\definecolor{dkviolet}{rgb}{0.3,0,0.5}
% lstlisting coq style (inspired from a file of Assia Mahboubi)
\lstdefinelanguage{Coq}{ 
    % Anything betweeen $ becomes LaTeX math mode
    mathescape=true,
    % Comments may or not include Latex commands
    texcl=false, 
    % Vernacular commands
    morekeywords=[1]{Section, Module, End, Require, Import, Export,
        Variable, Variables, Parameter, Parameters, Axiom, Hypothesis,
        Hypotheses, Notation, Local, Tactic, Reserved, Scope, Open, Close,
        Bind, Delimit, Definition, Let, Ltac, Fixpoint, CoFixpoint, Add,
        Morphism, Relation, Implicit, Arguments, Unset, Contextual,
        Strict, Prenex, Implicits, Inductive, CoInductive, Record,
        Structure, Coercion, Context, Class, Global, Instance,
        Program, Infix, Theorem, Lemma, Corollary, Proposition, Fact,
        Remark, Example, Proof, Goal, Save, Qed, Defined, Hint, Resolve,
        Rewrite, View, Search, Show, Print, Printing, All, Eval, Check,
        Projections, inside, outside, Def},
    % Gallina
    morekeywords=[2]{forall, exists, exists2, fun, fix, cofix, struct,
      match, with, end, as, in, return, let, if, is, then, else, for, of, using,
      nosimpl, when},
    % Sorts
    morekeywords=[3]{Type, Prop, Set, true, false, option},
    % Various tactics, some are std Coq subsumed by ssr, for the manual purpose
    morekeywords=[4]{pose, set, move, case, elim, apply, clear, hnf,
        intro, intros, generalize, rename, pattern, after, destruct,
        induction, using, refine, inversion, injection, rewrite, congr,
        unlock, compute, ring, field, fourier, replace, fold, unfold,
        change, cutrewrite, simpl, have, suff, wlog, suffices, without,
        loss, nat_norm, assert, cut, trivial, revert, bool_congr, nat_congr,
        symmetry, transitivity, auto, split, left, right, autorewrite},
    % Terminators
    morekeywords=[5]{by, done, exact, reflexivity, tauto, romega, omega,
        assumption, solve, contradiction, discriminate},
    % Control
    morekeywords=[6]{do, last, first, try, idtac, repeat},
    % Comments delimiters, we do turn this off for the manual
    morecomment=[s]{(*}{*)},
    % Spaces are not displayed as a special character
    showstringspaces=false,
    % String delimiters
    morestring=[b]",
    morestring=[d]â€™,
    % Size of tabulations
    tabsize=3,
    % Enables ASCII chars 128 to 255
    extendedchars=false,
    % Case sensitivity
    sensitive=true,
    % Automatic breaking of long lines
    breaklines=false,
    % Default style fors listings
    basicstyle=\small,
    % Position of captions is bottom
    captionpos=b,
    % flexible columns
    columns=[l]flexible,
    % Style for (listings') identifiers
    identifierstyle={\ttfamily\color{black}},
    % Style for declaration keywords
    keywordstyle=[1]{\ttfamily\color{violet}},
    % Style for gallina keywords
    keywordstyle=[2]{\ttfamily\color{dkgreen}},
    % Style for sorts keywords
    keywordstyle=[3]{\ttfamily\color{ltblue}},
    % Style for tactics keywords
    keywordstyle=[4]{\ttfamily\color{blue}},
    % Style for terminators keywords
    keywordstyle=[5]{\ttfamily\color{red}},
    %Style for iterators
    %keywordstyle=[6]{\ttfamily\color{dkpink}},
    % Style for strings
    stringstyle=\ttfamily,
    % Style for comments
    commentstyle={\ttfamily\color{dkgreen}},
    %moredelim=**[is][\ttfamily\color{red}]{/&}{&/},
    literate=
    {gamma}{{$\Gamma\;$}}1
    {\\forall}{{\color{dkgreen}{$\forall\;$}}}1
    {\\exists}{{$\exists\;$}}1
    {<-}{{$\leftarrow\;$}}1
    {=>}{{$\Rightarrow\;$}}1
    {==}{{\code{==}\;}}1
    {==>}{{\code{==>}\;}}1
    %    {:>}{{\code{:>}\;}}1
    {->}{{$\rightarrow\;$}}1
    {<->}{{$\leftrightarrow\;$}}1
    {<==}{{$\leq\;$}}1
    {\#}{{$^\star$}}1 
    {\\o}{{$\circ\;$}}1 
    {\@}{{$\cdot$}}1 
    {\/\\}{{$\wedge\;$}}1
    {\\\/}{{$\vee\;$}}1
    {++}{{\code{++}}}1
    {~}{{$\sim$}}1
    {\@\@}{{$@$}}1
    {\\mapsto}{{$\mapsto\;$}}1
    {\\hline}{{\rule{\linewidth}{0.5pt}}}1
    %
  }[keywords,comments,strings]


% *******************************************************************

\begin{document}
\include{acronyms} % Import acronyms

% Title and Cover Page
% The files need to be changed and exported from Adobe Illustrator
% Adobe Illustrator files are in front/cover/illustrator
\begin{titlepage}
  % \includepdf[pages={1,2}, fitpaper]{front/cover/title.pdf}
  % \includepdf{front/cover/cover.pdf}
\end{titlepage}

% Front matter
\pagenumbering{roman}
\setcounter{page}{2} % Cover page is the first page, but not numbered
% \include{front/copyright}\clearpage
\include{front/acknowledgments}\clearpage
\include{front/integrity}\clearpage
\input{front/resumo}\clearpage
\input{front/abstract}\clearpage
\input{front/quote}\clearpage
\setcounter{tocdepth}{1} % Only go down to section level on ToC
\tableofcontents\fancyhead[R]{\textit{Contents}}
% \listoffigures\fancyhead[R]{\textit{List of Figures}}
% \listoftables\fancyhead[R]{\textit{List of Tables}}
\printglossaries\fancyhead[R]{\textit{Acronyms}}

% Header with section number and name
\fancyhead[R]{\rightmark}
\renewcommand{\sectionmark}[1]{\markright{\thesection\ \textit{#1}}}

% Thesis content
\pagenumbering{arabic} % Reset page counter
\input{chapters/01_introduction}

% Include your chapters here
\input{chapters/02_background}
\input{chapters/03_multiary}
\input{chapters/04_isomorphism}
\input{chapters/05_discussion}

\input{chapters/10_conclusions}
\input{chapters/appendix/appendix}
\fancyhead[R]{\textit{Bibliography}}\bibliography{dissertation}

\end{document}

%%% Local Variables:
%%% mode: LaTeX
%%% TeX-master: t
%%% End:
